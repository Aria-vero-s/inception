server {
listen 443 ssl;
server_name DOMAIN_NAME_PLACEHOLDER;


ssl_certificate /etc/nginx/ssl/server.crt;
ssl_certificate_key /etc/nginx/ssl/server.key;
ssl_protocols TLSv1.2 TLSv1.3;
ssl_prefer_server_ciphers on;


root /var/www/html;


client_max_body_size 100M;


location / {
try_files $uri /index.php?$args;
}


location ~ \.php$ {
fastcgi_pass wordpress:9000;
fastcgi_index index.php;
include fastcgi_params;
fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
}
}

# Catch-all server block for IP address access
server {
listen 443 ssl default_server;
server_name _;


ssl_certificate /etc/nginx/ssl/server.crt;
ssl_certificate_key /etc/nginx/ssl/server.key;
ssl_protocols TLSv1.2 TLSv1.3;
ssl_prefer_server_ciphers on;


root /var/www/html;


client_max_body_size 100M;


location / {
try_files $uri /index.php?$args;
}


location ~ \.php$ {
fastcgi_pass wordpress:9000;
fastcgi_index index.php;
include fastcgi_params;
fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
}
}